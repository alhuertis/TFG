<div class="container-fluid" style="background: rgba(95,209,221,0.8);" [style.height]="screenHeight">


<div *ngIf="!registro" id="loginbox" style="margin-top:110px;" class="mainbox col-md-4 col-md-offset-4 col-sm-4 col-sm-offset-4">
     <div class="panel panel-info" >

         <div class="panel-heading">
            <div class="panel-title">{{MS.LOGIN_LOGIN}}</div>
            <!--<div style="float:right; font-size: 80%; position: relative; top:-10px"><a href="#">Forgot password?</a></div>-->
        </div>

        <div style="padding-top:30px" class="panel-body" > 
            <form id="loginform" class="form-horizontal" name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>
                <div style="margin-bottom: 25px" class="input-group" [ngClass]="{ 'has-error': f.submitted && !usuario.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                    <input type="text" [placeholder]="MS.LOGIN_PLACEHOLDER_USUARIO" class="form-control" name="usuario" [(ngModel)]="modelLogin.usuario" #usuario="ngModel" required />
                    
                </div>
                
                <div style="margin-bottom: 25px" class="input-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                    <input type="password" [placeholder]="MS.LOGIN_PLACEHOLDER_CONTRASENA" class="form-control" name="password" [(ngModel)]="modelLogin.password" #password="ngModel" required />
                </div>
                <div class="form-group">
                    <div class="col-sm-12 controls">
                        <button [disabled]="loading" class="btn btn-success">{{MS.LOGIN_BTN_ENTRAR}}</button>
                        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-12 control">
                        <div style="border-top: 1px solid#888; padding-top:15px; font-size:100%" >
                            {{MS.LOGIN_SOLICITAR_CUENTA}}  
                        <a (click)="mostrarRegistro(true)" style="cursor: pointer">
                            {{MS.LOGIN_SOLICITAR_AQUI}}
                        </a>
                        </div>
                    </div>
                </div>
                <div *ngIf="error" class="alert alert-danger">{{error}}</div>
            </form>
        </div>
     </div>
</div>


<div *ngIf="registro" id="signupbox" style="margin-top:20px" class="mainbox col-md-4 col-md-offset-4 col-sm-4 col-sm-offset-4">
    <div class="panel panel-info">
        <div class="panel-heading">
            <div class="panel-title">{{MS.LOGIN_REGISTRO}}</div>
            <div style="float:right; font-size: 85%; position: relative; top:-10px; cursor: pointer"><a id="signinlink" (click)="mostrarRegistro(false)">{{MS.LOGIN_REGISRO_VOLVER}}</a></div>
        </div>  
        <div class="panel-body" >
            <form id="signupform" class="form-horizontal" name="form" (ngSubmit)="f2.form.valid && registrar()" #f2="ngForm" novalidate>
                
                <div id="signupalert" style="display:none" class="alert alert-danger">
                    <p>Error:</p>
                    <span></span>
                </div>
                    
                <!--<div *ngIf="f2.submitted && !usuario.valid">Usuario is required</div>-->
                <div class="input-group" style="margin-bottom: 15px" [ngClass]="{ 'has-error': f2.submitted && !usuario.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-sunglasses"></i></span>
                    <input type="text" class="form-control" name="usuario" [(ngModel)]="modelRegistro.usuario" #usuario="ngModel"  [placeholder]="MS.LOGIN_PLACEHOLDER_USUARIO" required />
                </div>
                
                <div class="input-group" style="margin-bottom: 15px" [ngClass]="{ 'has-error': f2.submitted && !password.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                    <input type="password" class="form-control" name="password" [(ngModel)]="modelRegistro.password" #password="ngModel"  [placeholder]="MS.LOGIN_PLACEHOLDER_CONTRASENA" required />
                </div>
                
                <div class="input-group" style="margin-bottom: 15px" [ngClass]="{ 'has-error': f2.submitted && !nombre.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                    <input type="text" class="form-control" name="nombre" [(ngModel)]="modelRegistro.nombre" #nombre="ngModel"  [placeholder]="MS.LOGIN_PLACEHOLDER_NOMBRE" required />
                </div>

                <div class="input-group" style="margin-bottom: 15px" [ngClass]="{ 'has-error': f2.submitted && !apellidos.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                    <input type="text" class="form-control" name="apellidos" [(ngModel)]="modelRegistro.apellidos" #apellidos="ngModel"  [placeholder]="MS.LOGIN_PLACEHOLDER_APELLIDOS" required />
                </div>

                <div class="input-group" style="margin-bottom: 15px" [ngClass]="{ 'has-error': f2.submitted && !email.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                    <input type="text" class="form-control" name="email" [(ngModel)]="modelRegistro.email" #email="ngModel"  [placeholder]="MS.LOGIN_PLACEHOLDER_EMAIL" required />
                </div>

                <div class="input-group" style="margin-bottom: 15px" [ngClass]="{ 'has-error': f2.submitted && !institucion.valid }">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-education"></i></span>
                    <input type="text" class="form-control" name="institucion" [(ngModel)]="modelRegistro.institucion_educativa" #institucion="ngModel"  [placeholder]="MS.LOGIN_PLACEHOLDER_INSTITUCION" required />
                </div>

                <div class="input-group" style="margin-bottom: 15px">
                    <input type="radio" required  [(ngModel)]="modelRegistro.role"  name="role" #role="ngModel" value="profesor"> {{MS.LOGIN_ROL_PROFESOR}} 
                    <input type="radio"  required [(ngModel)]="modelRegistro.role"  name="role" #role="ngModel" value="alumno"> {{MS.LOGIN_ROL_ALUMNO}}
                </div>
                    
               
                    
                
                

                <div class="form-group">
                    <div class="col-sm-12 controls">
                        <button [disabled]="loading" class="btn btn-success">{{MS.LOGIN_BTN_REGISTRAR}}</button>
                        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                    </div>
                </div>
            </form>
            </div>
    </div>
</div>
</div>


<!-- modal registro -->
<div style="background: rgba(63,63,61,0.8);" class="modal fade" tabindex="-1" [ngClass]="{'in': visibleAnimate}"
    [ngStyle]="{'display': modalRegistro ? 'block' : 'none', 'opacity': visibleAnimate ? 1 : 0}">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-body" >
            <h3 *ngIf="msg != '' ">{{msg}}</h3>
        </div>
        <div class="modal-footer">
            <button (click)="cerrarModal()" class="btn">Cerrar</button>
        </div>
        </div>
    </div>
</div>